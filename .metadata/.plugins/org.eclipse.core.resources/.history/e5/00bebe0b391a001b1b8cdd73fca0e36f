
public class Ex {

	public static void main(String[] args) {
		int a[] = new int[] { -2,1,-3,4,-1,2,1,-5,4] };
		System.out.println(maxSubArray(a));
	}

	public static int maxSubArray(int[] nums) {

		int best = nums[nums.length - 1];
		int currSum = best;

		for (int it = nums.length - 2; it >= 0; it--)
			if (nums[it] + currSum > best) {
				currSum = nums[it] + currSum;
				best = currSum;
			} else if (nums[it] + currSum > 0) {
				currSum += nums[it];
			} else {
				currSum = nums[it];
				if (currSum > best)
					best = currSum;
				else
					currSum = 0;
			}
		return best;

	}
}
